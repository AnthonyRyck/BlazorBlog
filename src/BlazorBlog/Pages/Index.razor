@page "/"
@inject IIndexViewModel ViewModel

<PageTitle>Accueil</PageTitle>

<MudStack Row="true" Justify="Justify.FlexStart" Class="flex-wrap">

    @foreach (Post post in ViewModel.Posts)
    {
       <CardPost Image="@post.Image"
                Titre="@post.Title"
                User="@post.UserId"
                Date="@post.CreatedAt" />
    }

</MudStack>

@code{

    protected async override Task OnInitializedAsync()
    {
        await ViewModel.GetAllPosts();
    }
}